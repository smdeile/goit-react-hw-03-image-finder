{"version":3,"sources":["styles.module.css","components/Searchbar.js","services/articlesApi.js","components/Modal.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","app.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","styles","buttonBorder","form","type","button","role","aria-label","onChange","input","autoComplete","autoFocus","placeholder","Component","KEY","FetchArticles","a","page","axios","get","response","data","hits","Modal","backDropRef","createRef","handlePress","code","onClick","handleBackDropClick","current","console","log","window","addEventListener","removeEventListener","largeImageURL","ref","overlay","modal","src","alt","ImageGalleryItem","webformatURL","tags","onSelect","image","ImageGallery","isModalOpen","toggleModal","articleList","list","map","article","key","id","Button","tittle","LoadMoreButton","App","articles","error","loading","isLoading","fetchArticles","undefined","articlesApi","then","prevState","catch","finally","handleClick","listRef","prevProps","scrollTo","top","document","body","scrollHeight","behavior","color","height","width","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5a434d93.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"styles_list__2WGHs\",\"image\":\"styles_image__1WTZi\",\"buttonBorder\":\"styles_buttonBorder__3F5id\",\"form\":\"styles_form__31YXn\",\"input\":\"styles_input__16pbu\",\"button\":\"styles_button__-Jdoe\",\"LoadMoreButton\":\"styles_LoadMoreButton__16wLA\",\"overlay\":\"styles_overlay__14L9c\",\"modal\":\"styles_modal__1gwcx\"};","import React, { Component } from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={styles.buttonBorder}>\r\n        <form onSubmit={this.handleSubmit} className={styles.form}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span role=\"img\" aria-label=\"search\">\r\n              &#128269;\r\n            </span>\r\n          </button>\r\n          <input\r\n            onChange={this.handleChange}\r\n            name=\"query\"\r\n            value={query}\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst KEY = '15565961-5e85110a0724a211af2dbcdb2';\r\nconst FetchArticles = async (query, page = 1) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n};\r\nexport default { FetchArticles };\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handlePress);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handlePress);\r\n  }\r\n  handlePress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClick();\r\n  };\r\n  handleBackDropClick = e => {\r\n    const { current } = this.backDropRef;\r\n    console.log(current);\r\n    if (current && current !== e.target) return;\r\n    this.props.onClick();\r\n  };\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div\r\n        ref={this.backDropRef}\r\n        className={styles.overlay}\r\n        onClick={this.handleBackDropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Modal from './Modal';\r\n\r\nimport styles from '../styles.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  onClick,\r\n  largeImageURL,\r\n  state,\r\n  onSelect,\r\n}) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={styles.image}\r\n      onClick={onClick}\r\n    />\r\n    {/* {state.isModalOpen && (\r\n      <Modal\r\n        onClick={onClick}\r\n        largeImageURL={largeImageURL}\r\n        state={state}\r\n        onSelect={onSelect}\r\n      />\r\n    )} */}\r\n  </li>\r\n);\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport styles from '../styles.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = { isModalOpen: false };\r\n  toggleModal = () => this.setState({ isModalOpen: !this.state.isModalOpen });\r\n\r\n  // listRef = createRef();\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   if (prevProps !== this.props) {\r\n  //     console.dir(prevProps.articleList.length);\r\n  //     console.log(this.props);\r\n  //     // this.listRef.current.scrollTo({\r\n  //     //   top: this.listRef.current.scrollHeight,\r\n  //     //   behavior: 'smooth',\r\n  //     // });\r\n  //     console.dir(this.listRef.current.scrollTop);\r\n  //     console.log(this.listRef.current.scrollHeight);\r\n  //     this.listRef.current.scrollTop = this.listRef.current.scrollHeight;\r\n  //     console.log('must');\r\n  //     this.listRef.current.scrollTop = this.listRef.current.scrollHeight;\r\n  //   }\r\n  // }\r\n\r\n  render() {\r\n    const { articleList } = this.props;\r\n\r\n    return (\r\n      <ul className={styles.list}>\r\n        {articleList.map(article => (\r\n          <ImageGalleryItem\r\n            onClick={this.toggleModal}\r\n            key={article.id}\r\n            webformatURL={article.webformatURL}\r\n            alt={article.tags}\r\n            largeImageURL={article.largeImageURL}\r\n            state={this.state}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nconst Button = ({ tittle, onClick }) => (\r\n  <button onClick={onClick} className={styles.LoadMoreButton}>\r\n    {tittle}\r\n  </button>\r\n);\r\nexport default Button;\r\n","/* eslint-disable */\r\nimport React, { Component, createRef } from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport articlesApi from './services/articlesApi';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    articles: [],\r\n    error: null,\r\n    loading: 'false',\r\n    page: 1,\r\n    isLoading: false,\r\n    query: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchArticles();\r\n  }\r\n  fetchArticles = query => {\r\n    if (query !== undefined) {\r\n      this.setState({ isLoading: true });\r\n\r\n      articlesApi\r\n        .FetchArticles(query)\r\n        .then(articles =>\r\n          this.setState(prevState => ({\r\n            articles: [...prevState.articles, ...articles],\r\n            page: prevState.page + 1,\r\n            query: query,\r\n          })),\r\n        )\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => {\r\n          this.setState({ isLoading: false });\r\n        });\r\n    }\r\n  };\r\n  handleClick = async () => {\r\n    // e.preventDefault();\r\n    const { query, page } = this.state;\r\n\r\n    await articlesApi\r\n      .FetchArticles(query, page)\r\n      .then(articles =>\r\n        this.setState(prevState => ({\r\n          articles: [...prevState.articles, ...articles],\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    // window.scrollTo({\r\n    //   top: document.documentElement.scrollHeight,\r\n    //   behavior: 'smooth',\r\n    // });\r\n  };\r\n  listRef = createRef();\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.articles !== this.state.articles) {\r\n      window.scrollTo({\r\n        top: document.body.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div ref={this.listRef}>\r\n        {this.state.isLoading && (\r\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n        )}\r\n        <Searchbar onSubmit={this.fetchArticles} />\r\n        <ImageGallery articleList={this.state.articles} />\r\n        {this.state.articles.length > 0 && (\r\n          <Button tittle=\"Load more\" onClick={this.handleClick} />\r\n        )}\r\n        {this.state.isModalOpen && (\r\n          <Modal\r\n            onClick={onClick}\r\n            largeImageURL={largeImageURL}\r\n            state={state}\r\n            onSelect={onSelect}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport './base.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}