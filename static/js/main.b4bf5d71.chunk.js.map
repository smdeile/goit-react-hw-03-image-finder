{"version":3,"sources":["styles.module.css","components/Searchbar.js","services/articlesApi.js","components/ImageGalleryItem.js","components/Modal.js","components/ImageGallery.js","components/Button.js","app.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","styles","buttonBorder","form","type","button","buttonLabel","role","aria-label","onChange","input","autoComplete","autoFocus","placeholder","Component","KEY","FetchArticles","a","page","axios","get","response","data","hits","ImageGalleryItem","webformatURL","alt","onSelect","src","image","height","width","onClick","Modal","backDropRef","createRef","handlePress","code","toggleModal","handleBackDropClick","current","window","addEventListener","removeEventListener","largeImageURL","ref","overlay","modal","ImageGallery","isModalOpen","articleList","list","map","article","key","id","tags","Button","tittle","LoadMoreButton","App","articles","error","loading","isLoading","modalItem","fetchArticles","undefined","articlesApi","then","prevState","catch","finally","filter","handleClick","prevProps","scrollTo","top","document","body","scrollHeight","behavior","app","loadMoreBlock","color","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b4bf5d71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__FvzUs\",\"list\":\"styles_list__2WGHs\",\"image\":\"styles_image__1WTZi\",\"imageGaleryItem\":\"styles_imageGaleryItem__1gGET\",\"buttonBorder\":\"styles_buttonBorder__3F5id\",\"form\":\"styles_form__31YXn\",\"input\":\"styles_input__16pbu\",\"button\":\"styles_button__-Jdoe\",\"buttonLabel\":\"styles_buttonLabel__2RkCe\",\"loadMoreBlock\":\"styles_loadMoreBlock__12u1w\",\"LoadMoreButton\":\"styles_LoadMoreButton__16wLA\",\"overlay\":\"styles_overlay__14L9c\",\"modal\":\"styles_modal__1gwcx\"};","import React, { Component } from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={styles.buttonBorder}>\r\n        <form onSubmit={this.handleSubmit} className={styles.form}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span\r\n              className={styles.buttonLabel}\r\n              role=\"img\"\r\n              aria-label=\"search\"\r\n            ></span>\r\n          </button>\r\n          <input\r\n            onChange={this.handleChange}\r\n            name=\"query\"\r\n            value={query}\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst KEY = '15565961-5e85110a0724a211af2dbcdb2';\r\nconst FetchArticles = async (query, page = 1) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n};\r\nexport default { FetchArticles };\r\n","import React from 'react';\r\n// import Modal from './Modal';\r\n\r\nimport styles from '../styles.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, alt, onSelect }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={alt}\r\n      className={styles.image}\r\n      height={100}\r\n      width={150}\r\n      onClick={onSelect}\r\n    />\r\n  </li>\r\n);\r\nexport default ImageGalleryItem;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handlePress);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handlePress);\r\n  }\r\n  handlePress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.toggleModal();\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    const { current } = this.backDropRef;\r\n    if (current && current !== e.target) return;\r\n    this.props.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div\r\n        ref={this.backDropRef}\r\n        className={styles.overlay}\r\n        onClick={this.handleBackDropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport styles from '../styles.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Modal from './Modal';\r\n\r\nexport default class ImageGallery extends Component {\r\n  // listRef = createRef();\r\n  state = { isModalOpen: false };\r\n  // onSelect = id => {\r\n  //   this.setState(state => ({\r\n  //     articles: state.articles.filter(image => image.id === id),\r\n  //     isModalOpen: !this.state.isModalOpen,\r\n  //   }));\r\n  // };\r\n\r\n  render() {\r\n    const { articleList, onSelect, toggleModal } = this.props;\r\n    return (\r\n      <>\r\n        <ul className={styles.list}>\r\n          {articleList.map(article => (\r\n            <ImageGalleryItem\r\n              key={article.id}\r\n              webformatURL={article.webformatURL}\r\n              alt={article.tags}\r\n              onSelect={() => onSelect(article.id)}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nconst Button = ({ tittle, onClick }) => (\r\n  <button onClick={onClick} className={styles.LoadMoreButton}>\r\n    {tittle}\r\n  </button>\r\n);\r\nexport default Button;\r\n","/* eslint-disable */\r\nimport React, { Component, createRef } from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport articlesApi from './services/articlesApi';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\nimport styles from './styles.module.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    articles: [],\r\n    error: null,\r\n    loading: 'false',\r\n    page: 1,\r\n    isLoading: false,\r\n    query: '',\r\n    isModalOpen: false,\r\n    modalItem: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchArticles();\r\n  }\r\n\r\n  fetchArticles = (query, page) => {\r\n    if (query !== undefined) {\r\n      this.setState({ isLoading: true });\r\n\r\n      articlesApi\r\n        .FetchArticles(query, page)\r\n        .then(articles =>\r\n          this.setState(prevState => ({\r\n            articles: [...prevState.articles, ...articles],\r\n            page: prevState.page + 1,\r\n            query: query,\r\n          })),\r\n        )\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => {\r\n          this.setState({ isLoading: false });\r\n        });\r\n    }\r\n  };\r\n  toggleModal = () => this.setState({ isModalOpen: !this.state.isModalOpen });\r\n  onSelect = async id => {\r\n    await this.setState(state => ({\r\n      modalItem: state.articles.filter(image => image.id === id),\r\n      isModalOpen: !this.state.isModalOpen,\r\n    }));\r\n  };\r\n  handleClick = async () => {\r\n    const { query, page } = this.state;\r\n    this.fetchArticles(query, page);\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.articles !== this.state.articles) {\r\n      window.scrollTo({\r\n        top: document.body.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={styles.app}>\r\n        <Searchbar onSubmit={this.fetchArticles} />\r\n        <div className={styles.loadMoreBlock}>\r\n          {this.state.isLoading && (\r\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n          )}\r\n        </div>\r\n        <ImageGallery\r\n          articleList={this.state.articles}\r\n          onSelect={this.onSelect}\r\n        />\r\n        <div className={styles.loadMoreBlock}>\r\n          {this.state.articles.length > 0 && (\r\n            <Button tittle=\"Load more\" onClick={this.handleClick} />\r\n          )}\r\n        </div>\r\n        {this.state.isModalOpen && (\r\n          <Modal\r\n            largeImageURL={this.state.modalItem[0].largeImageURL}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport './base.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}