{"version":3,"sources":["styles.module.css","components/Searchbar.js","services/articlesApi.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Modal.js","app.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","styles","buttonBorder","form","type","button","buttonLabel","role","aria-label","onChange","input","autoComplete","autoFocus","placeholder","Component","KEY","FetchArticles","a","page","axios","get","response","data","hits","ImageGalleryItem","webformatURL","alt","onSelect","src","image","onClick","ImageGallery","articleList","list","map","article","key","id","tags","Button","tittle","LoadMoreButton","Modal","backDropRef","createRef","handlePress","code","toggleModal","handleBackDropClick","current","window","addEventListener","removeEventListener","item","ref","overlay","modal","largeImageURL","App","articles","error","isLoading","isModalOpen","modalItem","fetchArticles","undefined","articlesApi","then","prevState","catch","finally","filter","handleClick","prevProps","scrollTo","top","document","body","scrollHeight","behavior","app","loadMoreBlock","color","height","width","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d5663943.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__FvzUs\",\"list\":\"styles_list__2WGHs\",\"image\":\"styles_image__1WTZi\",\"imageGaleryItem\":\"styles_imageGaleryItem__1gGET\",\"buttonBorder\":\"styles_buttonBorder__3F5id\",\"form\":\"styles_form__31YXn\",\"input\":\"styles_input__16pbu\",\"button\":\"styles_button__-Jdoe\",\"buttonLabel\":\"styles_buttonLabel__2RkCe\",\"loadMoreBlock\":\"styles_loadMoreBlock__12u1w\",\"LoadMoreButton\":\"styles_LoadMoreButton__16wLA\",\"overlay\":\"styles_overlay__14L9c\",\"modal\":\"styles_modal__1gwcx\"};","import React, { Component } from 'react';\r\nimport styles from '../styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { query: '' };\r\n  static propTypes = { onSubmit: PropTypes.func };\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={styles.buttonBorder}>\r\n        <form onSubmit={this.handleSubmit} className={styles.form}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span\r\n              className={styles.buttonLabel}\r\n              role=\"img\"\r\n              aria-label=\"search\"\r\n            ></span>\r\n          </button>\r\n          <input\r\n            onChange={this.handleChange}\r\n            name=\"query\"\r\n            value={query}\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst KEY = '15565961-5e85110a0724a211af2dbcdb2';\r\nconst FetchArticles = async (query, page = 1) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n};\r\nexport default { FetchArticles };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from '../styles.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, alt, onSelect }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={alt}\r\n      className={styles.image}\r\n      onClick={onSelect}\r\n    />\r\n  </li>\r\n);\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onSelect: PropTypes.func,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../styles.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default class ImageGallery extends Component {\r\n  static propTypes = {\r\n    articleList: PropTypes.arrayOf(PropTypes.object),\r\n    onSelect: PropTypes.func,\r\n  };\r\n  render() {\r\n    const { articleList, onSelect } = this.props;\r\n    return (\r\n      <ul className={styles.list}>\r\n        {articleList.map(article => (\r\n          <ImageGalleryItem\r\n            key={article.id}\r\n            webformatURL={article.webformatURL}\r\n            alt={article.tags}\r\n            onSelect={() => onSelect(article.id)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from '../styles.module.css';\r\n\r\nconst Button = ({ tittle, onClick }) => (\r\n  <button onClick={onClick} className={styles.LoadMoreButton}>\r\n    {tittle}\r\n  </button>\r\n);\r\nexport default Button;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from '../styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  backDropRef = createRef();\r\n  static propTypes = {\r\n    item: PropTypes.objectOf(PropTypes.string),\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handlePress);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handlePress);\r\n  }\r\n  handlePress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.toggleModal();\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    const { current } = this.backDropRef;\r\n    if (current && current !== e.target) return;\r\n    this.props.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    return (\r\n      <div\r\n        ref={this.backDropRef}\r\n        className={styles.overlay}\r\n        onClick={this.handleBackDropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={item.largeImageURL} alt={item.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable */\r\nimport React, { Component, createRef } from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport articlesApi from './services/articlesApi';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\nimport styles from './styles.module.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    articles: [],\r\n    error: null,\r\n    page: 1,\r\n    isLoading: false,\r\n    query: '',\r\n    isModalOpen: false,\r\n    modalItem: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchArticles();\r\n  }\r\n\r\n  fetchArticles = (query, page) => {\r\n    if (query !== undefined) {\r\n      this.setState({ isLoading: true });\r\n\r\n      articlesApi\r\n        .FetchArticles(query, page)\r\n        .then(articles =>\r\n          this.setState(prevState => ({\r\n            articles: [...prevState.articles, ...articles],\r\n            page: prevState.page + 1,\r\n            query: query,\r\n          })),\r\n        )\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => {\r\n          this.setState({ isLoading: false });\r\n        });\r\n    }\r\n  };\r\n  toggleModal = () => this.setState({ isModalOpen: !this.state.isModalOpen });\r\n  onSelect = async id => {\r\n    await this.setState(state => ({\r\n      modalItem: state.articles.filter(image => image.id === id),\r\n      isModalOpen: !this.state.isModalOpen,\r\n    }));\r\n  };\r\n  handleClick = async () => {\r\n    const { query, page } = this.state;\r\n    this.fetchArticles(query, page);\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.articles !== this.state.articles) {\r\n      window.scrollTo({\r\n        top: document.body.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={styles.app}>\r\n        <Searchbar onSubmit={this.fetchArticles} />\r\n        <div className={styles.loadMoreBlock}>\r\n          {this.state.isLoading && (\r\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n          )}\r\n        </div>\r\n        <ImageGallery\r\n          articleList={this.state.articles}\r\n          onSelect={this.onSelect}\r\n        />\r\n        <div className={styles.loadMoreBlock}>\r\n          {this.state.articles.length > 0 && (\r\n            <Button tittle=\"Load more\" onClick={this.handleClick} />\r\n          )}\r\n        </div>\r\n        {this.state.isModalOpen && (\r\n          <Modal\r\n            item={this.state.modalItem[0]}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\nimport './base.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}